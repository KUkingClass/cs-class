# ì´ë¶„ íƒìƒ‰(Binary Search)
  * [What is ì´ë¶„ íƒìƒ‰?](#what-is-------)
    + [íŠ¹ì§•](#--)
  * [ì´ë¶„ íƒìƒ‰ êµ¬í˜„í•´ë³´ê¸° (with python)](#-------------with-python-)
  * [ì´ë¶„ íƒìƒ‰ì€ ì–¸ì œ ì“°ëŠ”ê²Œ ì¢‹ì„ê¹Œ?](#------------------)


## What is ì´ë¶„ íƒìƒ‰?

```
'ì •ë ¬ë˜ì–´ ìˆëŠ” ë¦¬ìŠ¤íŠ¸' ì—ì„œ íƒìƒ‰ ë²”ìœ„ë¥¼ 'ì ˆë°˜ì”©' ì¢í˜€ê°€ë©° ë°ì´í„°ë¥¼ íƒìƒ‰í•˜ëŠ” ë°©ë²•

ì´ì§„ íƒìƒ‰ì´ë¼ê³ ë„ í•©ë‹ˆë‹¤~
```

### íŠ¹ì§•

- ë¦¬ìŠ¤íŠ¸ê°€ ì •ë ¬ë˜ì–´ ìˆì–´ì•¼ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ë³€ìˆ˜âœ¨3ê°œ (`start`, `end`, `mid`)ë¥¼ ì‚¬ìš©í•˜ì—¬ íƒìƒ‰í•œë‹¤.

ì§ì ‘ ì •ë ¬í•´ë³´ì~

- list (n = 17), ì°¾ì„ ê°’ = `37`

| index | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| value | 1 | 3 | 5 | 7 | 11 | 13 | 17 | 19 | 23 | 29 | 31 | 37 | 41 | 43 | 47 | 53 | 59 |
- ì²« ë²ˆì§¸ ì‹œë„
1. `start` = 0, `end` = 16 â†’ `mid` = 8 (`mid = (start+end)/2`), íƒìƒ‰ ë²”ìœ„ : 16 (n)
2. 37 > 23 (mid)ë³´ë‹¤ í¬ë¯€ë¡œ íƒìƒ‰ ë²”ìœ„ë¥¼ midì˜ **ì˜¤ë¥¸ìª½ ë²”ìœ„ë¡œ ì¢íŒë‹¤.**
3. `start` = `mid + 1`ì´ ë˜ëŠ”ê²ƒâœ¨

- ë‘ ë²ˆì§¸ ì‹œë„
1. `start` = 9, `end` = 16, `mid` = 12 (25/2), íƒìƒ‰ ë²”ìœ„ : 8 (16/2)
2. 37 < 41(mid)ë³´ë‹¤ ì‘ìœ¼ë¯€ë¡œ íƒìƒ‰ë²”ìœ„ë¥¼ midì˜ **ì™¼ìª½ ë²”ìœ„ë¡œ ì¢íŒë‹¤.**
3. `end` = `mid - 1`ì´ ë˜ëŠ” ê²ƒâœ¨

- ì„¸ ë²ˆì§¸ ì‹œë„
1. `start` = 9, `end`= 11, `mid`= 10 (20/2), íƒìƒ‰ ë²”ìœ„ : 3 (8/2)
2. 37 > 31 (mid)ë³´ë‹¤ í¬ë¯€ë¡œ íƒìƒ‰ ë²”ìœ„ë¥¼ midì˜ **ì˜¤ë¥¸ìª½ ë²”ìœ„ë¡œ ì¢íŒë‹¤.**

- ë„¤ ë²ˆì§¸ ì‹œë„
1. `start` = 11, `end` = 11, `mid` = 11, íƒìƒ‰ ë²”ìœ„ : 1 (3/2)
2. `list[mid]` **â†’ list[11]ì€ 37ì´ë¯€ë¡œ ì›í•˜ëŠ” ê°’ì„ ì°¾ì•˜ë‹¤!ğŸƒ**

- ì¢…ë£Œ ì¡°ê±´ : ê°’ì„ ì°¾ìœ¼ë©´ ì¢…ë£Œ, ì¦‰ list[mid] = value ë©´ ì¢…ë£Œ!
- ë‹¨ê³„ê°€ ì§€ë‚˜ê°ì— ë”°ë¼ íƒìƒ‰í•  ë°°ì—´ì˜ í¬ê¸°ê°€ `ì ˆë°˜ì”©` ì¤„ì–´ë“ ë‹¤.âœ¨
    - ì¦‰ N, N/2, N/4, N/8, ... , 1 ë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ë¯€ë¡œ
    - ì‹œê°„ ë³µì¡ë„ëŠ” `O(logN)`ì´ ëœë‹¤.

---

## ì´ë¶„ íƒìƒ‰ êµ¬í˜„í•´ë³´ê¸° (with python)

1. **ë°˜ë³µë¬¸ìœ¼ë¡œ êµ¬í˜„í•˜ê¸°**

```python
def binary_search(arr, target):
	start = 0
	end = len(arr) - 1
	mid = 0

	while start <= end: 
		mid = (start + end) // 2

		if arr[mid] == target: # ì›í•˜ëŠ” ê°’ ì°¾ì€ ê²½ìš° index ë°˜í™˜
			return mid
		elif arr[mid] > target: # midì˜ ì™¼ìª½ìœ¼ë¡œ ì œí•œ
			end = mid - 1
		else # midì˜ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì œí•œ
			start = mid + 1

	return -1
```

1. **ì¬ê·€ë¡œ êµ¬í˜„í•˜ê¸°**

```python
def binary_search(arr, target, start, end):
	if start > end:
		return -1
	
	mid = (start + end) // 2
	
	if arr[mid] == target:
		return mid
	elif arr[mid] > target: # midì˜ ì™¼ìª½ìœ¼ë¡œ ì œí•œí•´ì„œ ë‹¤ì‹œ íƒìƒ‰
		return binary_search(arr, target, start, mid - 1)
	else: # midì˜ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì œí•œí•´ì„œ ë‹¤ì‹œ íƒìƒ‰
		return binary_search(arr, target, mid + 1, end)
```

1. **íŒŒì´ì¬ ì´ì§„ íƒìƒ‰ ë¼ì´ë¸ŒëŸ¬ë¦¬**
- `bisect_left(arr, x)`
    - ì •ë ¬ëœ ìˆœì„œë¥¼ ìœ ì§€í•˜ë©´ì„œ ë¦¬ìŠ¤íŠ¸ arrì— ë°ì´í„° xë¥¼ ì‚½ì…í•  ê°€ì¥ ì™¼ìª½ ì¸ë±ìŠ¤ë¥¼ ì°¾ëŠ” ë©”ì†Œë“œ
- `bisect_right(arr, x)`
    - ì •ë ¬ëœ ìˆœì„œë¥¼ ìœ ì§€í•˜ë„ë¡ ë¦¬ìŠ¤íŠ¸ arrì— ë°ì´í„° xë¥¼ ì‚½ì…í•  ê°€ì¥ ì˜¤ë¥¸ìª½ ì¸ë±ìŠ¤ë¥¼ ì°¾ëŠ” ë©”ì†Œë“œ

```python
from bisect import bisect_left, bisect_right
a = [1, 2, 4, 4, 8]
x = 4

print(bisect_left(a, x))
>>> 2
# ë¦¬ìŠ¤íŠ¸ aì— 4ë¥¼ ì‚½ì…í•  ê°€ì¥ ì™¼ìª½ ì¸ë±ìŠ¤ëŠ” 2ì´ë‹¤.

print(bisect_right(a, x))
>>> 4
# ë¦¬ìŠ¤íŠ¸ aì— 4ë¥¼ ì‚½ì…í•  ê°€ì¥ ì˜¤ë¥¸ìª½ ì¸ë±ìŠ¤ëŠ” 4ì´ë‹¤.
```

![image](https://user-images.githubusercontent.com/85485290/199229261-eda67afe-89bf-400d-ac55-39cbb71179cb.png)

---

## ì´ë¶„ íƒìƒ‰ì€ ì–¸ì œ ì“°ëŠ”ê²Œ ì¢‹ì„ê¹Œ?

- ì˜ˆì œ - [ë°±ì¤€ 2805 ë‚˜ë¬´ìë¥´ê¸°](https://www.acmicpc.net/problem/2805)
    - ì…ë ¥
        - ì²«ì§¸ì¤„ : ë‚˜ë¬´ì˜ ìˆ˜ N, ê°€ì ¸ê°€ë ¤ê³  í•˜ëŠ” ë‚˜ë¬´ì˜ ê¸¸ì´ M
        - ë‘˜ì§¸ì¤„ : ë‚˜ë¬´ì˜ ë†’ì´ (ë‚˜ë¬´ì˜ ë†’ì´ í•©ì€ í•­ìƒ Më³´ë‹¤ í¬ê±°ë‚˜ ê°™ì•„ì„œ í•­ìƒ ë‚˜ë¬´ë¥¼ ê°€ì ¸ê°ˆ ìˆ˜ ìˆìŒ)
        
        ```
        4 7
        20 15 10 17
        ```
        
    - ì¶œë ¥
        - ì ì–´ë„ Më¯¸í„°ì˜ ë‚˜ë¬´ë¥¼ ê°€ì ¸ê°€ê¸° ìœ„í•´ ì ˆë‹¨ê¸°ì— ì„¤ì •í•  ìˆ˜ ìˆëŠ” ë†’ì´ì˜ ìµœëŒ€ê°’ì„ ì¶œë ¥
        
        ```
        15
        ```
        

- ì ˆë‹¨ê¸° ë†’ì´ê°€ heightì¼ ë•Œ, M ì´ìƒì˜ ë‚˜ë¬´ë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ”ê°€?

```python
n = 0
m = 0
trees = []

def get_total_tree(height):
    total_tree = 0
    for tree in trees:
        if tree > height:
            total_tree += tree - height
    return total_tree

if __name__ == '__main__':
    n, m = map(int, input().split())
    trees = list(map(int, input().split()))

    # ì ˆë‹¨ê¸° ë†’ì´ ë²”ìœ„
    start = 1
    end = max(trees)

    while start <= end:
        mid = (start + end) // 2

        if get_total_tree(mid) >= m:
            start = mid + 1
        else:
            end = mid - 1

    print(end)
```

- â€˜ì •ë ¬ëœ ë¦¬ìŠ¤íŠ¸â€™ì—ì„œ â€˜íŠ¹ì • ë²”ìœ„â€™ì— ì†í•˜ëŠ” ì›ì†Œì˜ ê°œìˆ˜ë¥¼ êµ¬í•  ë•Œ ì‚¬ìš©í•˜ê¸°

```python
from bisect import bisect_left, bisect_right

def count_by_range(arr, left_value, right_value):
    right_index = bisect_right(arr, right_value)
    left_index = bisect_left(arr, left_value)
    print('right : ', right_index, 'left :', left_index)
    return right_index - left_index

a = [1, 2, 3, 3, 3, 3, 4, 4, 8, 9]
print(count_by_range(a, 4, 4))
>>> right : 8 left : 6
>>> 2
# ë¦¬ìŠ¤íŠ¸ aì— 4ëŠ” ì´ 2ê°œ ì¡´ì¬í•œë‹¤.

print(count_by_range(a, -1, 3))
>>> right : 6 left : 0
>>> 6
# ë¦¬ìŠ¤íŠ¸ aì— -1~3ì‚¬ì´ì˜ ê°’ì€ ì´ 6ê°œ ì¡´ì¬í•œë‹¤.
```
