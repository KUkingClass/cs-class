# 프로세스 vs 스레드

## Q. 스택을 스레드마다 독립적으로 할당하는 이유는 뭘까?

스택 영역은 전달 인자, 지역 변수 등을 저장하는 메모리공간입니다. 스택 메모리 공간이 독립적이라는 의미는 독립적인 함수 호출이 가능하며 독립적인 실행 흐름이 추가된다는 것입니다. 
따라서 프로세스 내에서 동작하는 독립적인 실행 흐름인 스레드는 최소한의 조건으로 독립된 스택 영역을 할당합니다. 

## Q. 멀티 프로세스와 멀티 스레드의 장단점을 알려주세요

[멀티 프로세스]

장점은 여러 개의 자식 프로세스 중 하나에 문제가 발생해도 다른 프로세스에는 영향이 확산되지 않아 안정성이 높다.
단점은 context switching 과정에서 오버헤드가 많이 발생하고, 프로세스 사이 변수를 공유할 수 없기에 통신이 어렵고 복잡하다.

[멀티 스레드]  

장점은 적은 메모리 공간을 차지하고, context switching이 빠르다.스레드 간은 프로세스 내의 스택 영역을 제외하곤 모든 메모리를 공유하기 때문에 통신 또한 빠르게 이루어진다.
단점은 동기화 문제가 있고 하나의 스레드에 문제가 발생하면 전체 프로세스가 영향을 받는다.

## Q. Thread-safe한 조건에는 무엇이 있을까요?


Thread-safe란 멀티 스레드 환경에서 여러 스레드로부터 동시에 접근이 이루어져도 프로그램 실행에 문제가 없음을 뜻한다. 

Thread-safe 를 달성하기 위해선 공유 자원을 사용하는 경우 lock을 통해 자원의 접근을 통제해야 한다. 동시 접근을 막기 위해 공유 자원을 줄이고 각각의 스레드에서만 접근 가능한 저장소를 만든다. 그리고 어떤 함수가 한 스레드에 의해 호출되어 실행 중일때, 다른 스레드가 해당 함수를 호출하더라도 결과가 바르게 나와야 한다.

