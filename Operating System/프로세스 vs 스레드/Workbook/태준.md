# 프로세스 vs 스레드

Q. 스택을 스레드마다 독립적으로 할당하는 이유는 뭘까?

서로 다른 스레드에서는 다른 프로세스들이 독립적으로 실행되기 때문에 서로 영향을 주지 않게 하기 위해 스레드마다 독립된 스택을 할당 받습니다.

Q. 멀티 프로세스와 멀티 스레드의 장단점을 알려주세요

멀티프로세스는 다른 프로세스들에 대해 영향을 주지 않아 안전성이 높지만 멀티 스레드보다 많은 메모리 공간과 CPU 자원을 차지하는 단점이 있습니다.

멀티 스레드는 멀티 프로세스보다 더 적은 메모리 공간을 차지하고 Context Switching이 빠른 장점이 있지만 동기화 문제로 하나의 스레드에 문제가 발생하면 전체 스레드에 영향을 주는 단점이 있습니다.

Q. Thread-safe한 조건에는 무엇이 있을까요?

멀티 스레드 환경에서 여러 스레드가 자원을 공유할 때 의도한 대로 동작하는 것을 Thread-safe라고 한다.

1. Re-Entrancy (재진입성 보장)
어떤 함수가 한 스레드에 의해 호출되어 실행 중일 때, 다른 스레드가 그 함수를 호출하더라도 그 결과가 각각에게 올바로 주어져야 한다.
2. Thread-local storage (스레드별 지역 변수 사용)
    
    공유 자원의 사용을 최대한 줄이고 서로의 자원만 사용하게 하여 동시접근을 방지하는 방법이 있습니다.
    
3. Mutual Exclusion (상호 배제)
공유 자원을 반드시 사용할해야 할 경우 해당 자원의 접근을 세마포어나 뮤텍스와 같은 락으로 통제합니다.
4. Atomic operations (중단 되지 않는 연산)
    
    공유 자원에 접근할 때 원자 연산을 이용하거나 원자적으로 정의된 접근 방법을 사용함으로써 상호 배제를 구현합니다.
    
    원자연산은 하나의 계산을 할 때 중단되지 않는 연산을 말한다.
    
    > 예)
    > 
    > 
    > int count = 0 원자적인 계산
    > 
    > count += 1 비원자적인 계산
    >