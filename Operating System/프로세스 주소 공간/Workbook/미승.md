# 프로세스 주소 공간

## 프로세스 메모리 모델에서 스택 영역이 하는 일을 말해보세요

스택 영역은 함수의 매개변수, 지역변수, 리턴 주소 등이 저장되는 공간입니다. 새로운 함수가 호출되면 새로운 스택 프레임이 생성되고 해당 함수의 데이터가 저장됩니다. 함수가 종료되면 스텍 프레임이 pop 되면서 그 전의 함수로 돌아갑니다. 

## 프로세스 메모리 모델에서 힙 영역이 하는 일을 말해보세요

힙 영역은 런타임에 동적으로 할당되는 메모리 공간입니다. 객체와 같은 레퍼런스 타입의 데이터가 힙 영역에 저장되고 같은 프로세스 내의 스레드들은 힙 영역의 데이터를 공유합니다. 

## 메모리 구조 중 쓰레드간에 공유하는 공간과 공유하지 않는 공간을 말해보세요

스택은 독립적인 실행 흐름이므로 쓰레드 간 스택 영역을 공유하지 않습니다. 그 외 힙, 코드, 데이터 영역은 공유합니다.

## 힙 메모리에 데이터를 자주 생성하고 해제를 반복하다보면 fragmentation이 생길 수 있습니다. malloc() 자체가 실패할 수 있는데 어떻게 해결할 수 있을까요?

단편화된 공간들을 합쳐 하나의 연속적인 공간으로 만들어줍니다. 또는 일정한 단위의 블록으로로 나누어 필요한만큼 할당해주는 방식으로 해결합니다. 

## 32 bit 운영체제에서 각 프로세스는 얼만큼의 Virtual Address Space를 가질까요?

4기가 바이트의 공간을 가집니다.

### 그중 대부분의 공간은 Unused 상태로 남아있을텐데 어떻게 효율적으로 관리할 수 있을까요?

페이징을 통해 관리합니다.
