# Interrupt 질문지


### Q. 사용자 프로세스로부터 운영체제 커널로 CPU 제어권이 넘어가는 경우는 언제가 있을까요?

사용자 프로세스가 주어진 시간을 다 사용하여 타이머 인터럽트가 발생하여 커널로 제어권이 넘어갈 수 있습니다.

### Q. 인터럽트를 처리하는 중에 또 다른 인터럽트가 들어온다면 어떻게 처리되는지 간략히 적어주세요.

인터럽트를 처리하는 중(서비스 루틴 수행 중)에 다른 인터럽트가 들어온다면, 새로 들어온 인터럽트의 우선 순위가 더 높다면 새로 들어온 인터럽트의 서비스 루틴으로 넘어가고, 그렇지 않으면 현재 서비스 루틴을 먼저 수행합니다.

--------
(컴퓨터 구조 Chapter4-5. exception handling 내용)
1. 외부 인터럽트(하드웨어 인터럽트, 인터럽트, 비동기적 인터럽트)
- 외부에서 비동기적으로 임의의 시간에 발생합니다.
- 인터럽트 발생 시 <u>현재 명령어는 다 처리하고</u> OS 인터럽트 핸들러로 넘어갑니다.
2. 내부 인터럽트(트랩, exception, 동기적 인터럽트)
- 문제 일으킨 명령어는 처리할 수 없으므로 <u>정지</u>하고, 해당 문제를 처리하기 위한 서비스 루틴을 호출합니다. 그리고 문제 일으킨 명령어의 다음부터 새로 시작합니다.
--------


### Q. 인터럽트와 시스템 콜의 차이를 간략히 적어주세요.

시스템 콜 호출 후에는 자원을 사용하기 위해 커널 모드로 진입해야 하므로 내부적으론 인터럽트 방식입니다.
인터럽트와 시스템 콜 모두 사용자가 커널 모드로 진입합니다. 하지만 시스템 콜은 응용 프로그램이 자원을 사용하고 싶어서 호출하는 것으로 원해서(자발적으로) 커널 모드에 진입하게 되는 것이고, 인터럽트에 의할 때는 외부에서 인터럽트가 발생하거나 문제가 일어났을 때 비자발적으로 커널 모드로 진입하게 됩니다.

### Q. 인터럽트를 발생 시켜 CPU를 중단시킨 후 작업을 처리하고, 다시 CPU 프로그램이 실행되던 위치로 돌아오기 위해서 내부적으로 발생하는 처리에 대해 간략히 적어주세요.

인터럽트가 발생했을 때, 현재 실행 중인 프로세스는 정지 상태가 되고, 다시 원래대로 돌아오기 위해 현재 Program Counter 값 등 프로세스 관련 정보를 PCB에 저장합니다.
인터럽트 처리를 위해 인터럽트 벡터에 등록된 인터럽트 핸들러 주소 값을 얻고, 해당 핸들러로 점프합니다.
인터럽트 핸들러가 실행되어 서비스 루틴이 수행되고, 인터럽트 처리를 마친 후에 일시 정지된 프로세스가 다시 실행되거나, 만약 문제가 일어났을 경우(접근하면 안되는 메모리 접근, 오류 등)에는 종료합니다.